# üéõÔ∏è –î–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω–∫–∞–º - –ü–æ–ª–Ω—ã–π –≥–∞–π–¥

## üìã –£ –≤–∞—Å –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–æ–∫

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ `bash tools/ctl.sh start-all` –¥–æ—Å—Ç—É–ø–Ω—ã:

| –ê–¥–º–∏–Ω–∫–∞ | –ü–æ—Ä—Ç | URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|------|-----|----------|
| **Traefik Dashboard** | 1010 | http://172.16.16.117:1010 | HTTP –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è |
| **Portainer** | 9100 | http://172.16.16.117:9100 | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Docker |
| **Netdata** | 9101 | http://172.16.16.117:9101 | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º—ã |
| **Dozzle** | 9102 | http://172.16.16.117:9102 | –õ–æ–≥–∏ Docker –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ |
| **Uptime Kuma** | 9103 | http://172.16.16.117:9103 | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ uptime |
| **Homarr** | 9104 | http://172.16.16.117:9104 | Dashboard –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ |
| **pgAdmin** | 9105 | http://172.16.16.117:9105 | PostgreSQL –∞–¥–º–∏–Ω–∫–∞ |
| **Swagger UI** | 9107 | http://172.16.16.117:9107 | API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è |
| **Metabase** | 9109 | http://172.16.16.117:9109 | –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ—Ç—á–µ—Ç—ã |
| **Terminal** | 9110 | http://172.16.16.117:9110 | Web —Ç–µ—Ä–º–∏–Ω–∞–ª |

---

## üåê –î–æ—Å—Ç—É–ø –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø (–µ—Å–ª–∏ –ø–æ—Ä—Ç—ã –æ—Ç–∫—Ä—ã—Ç—ã)

–ü—Ä–æ—Å—Ç–æ –æ—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

```
http://172.16.16.117:1010   - Traefik
http://172.16.16.117:9100   - Portainer
http://172.16.16.117:9101   - Netdata
http://172.16.16.117:9102   - Dozzle
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–æ–≤ —á–µ—Ä–µ–∑ SSH (–µ—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä —É–¥–∞–ª–µ–Ω–Ω—ã–π)

–ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä —É–¥–∞–ª–µ–Ω–Ω—ã–π, –ø—Ä–æ–±—Ä–æ—Å—å—Ç–µ –ø–æ—Ä—Ç—ã:

```bash
# –° –≤–∞—à–µ–≥–æ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞
ssh -L 9100:172.16.16.117:9100 \
    -L 9101:172.16.16.117:9101 \
    -L 9102:172.16.16.117:9102 \
    -L 1010:172.16.16.117:1010 \
    user@172.16.16.117

# –¢–µ–ø–µ—Ä—å –æ—Ç–∫—Ä—ã–≤–∞–π—Ç–µ:
http://localhost:9100  - Portainer
http://localhost:9101  - Netdata
http://localhost:9102  - Dozzle
http://localhost:1010  - Traefik
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ß–µ—Ä–µ–∑ VPN (–µ—Å–ª–∏ —É –≤–∞—Å WireGuard –∫–ª–∏–µ–Ω—Ç)

```bash
# 1. –°–æ–∑–¥–∞—Ç—å VPN –∫–ª–∏–µ–Ω—Ç–∞ –¥–ª—è —Å–µ–±—è
ssh user@172.16.16.117
cd /opt/wg-hub
sudo bash peer_admin.sh add my_laptop

# 2. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥ –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ VPN

# 3. –ü–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –æ—Ç–∫—Ä—ã–≤–∞—Ç—å:
http://10.8.0.1:1010   - Traefik (–µ—Å–ª–∏ –Ω–∞ WG_HUB)
http://10.8.0.2:9100   - Portainer (–µ—Å–ª–∏ –Ω–∞ WG_CLIENT)
```

---

## üîë –ö—Ä–µ–¥–µ–Ω—à–∞–ª—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

### Traefik Dashboard
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: admin
–ü–∞—Ä–æ–ª—å: admin123
```
–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ `.env`:
```bash
TRAEFIK_DASHBOARD_USER=admin
TRAEFIK_DASHBOARD_PASS=admin123
```

### Portainer (–ø–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫)
- –ü–µ—Ä–≤—ã–π —Ä–∞–∑ —Å–æ–∑–¥–∞–π—Ç–µ admin –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- URL: http://172.16.16.117:9100
- –ù—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –ø–∞—Ä–æ–ª—å (–º–∏–Ω–∏–º—É–º 12 —Å–∏–º–≤–æ–ª–æ–≤)

### pgAdmin
```
Email: admin@admin.com
–ü–∞—Ä–æ–ª—å: admin
```
–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ `HOST_API_SERVICE_MONITORING.yml`

### –û—Å—Ç–∞–ª—å–Ω—ã–µ –∞–¥–º–∏–Ω–∫–∏
- Netdata, Dozzle, Swagger - **–±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏**
- Uptime Kuma - —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ
- Metabase - —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ

---

## üõ†Ô∏è –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –∞–¥–º–∏–Ω–∫–∏ –∑–∞–ø—É—â–µ–Ω—ã

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
cd /mnt/docker/tzr_host_api/wg_client
sudo docker ps | grep -E "portainer|netdata|dozzle|traefik"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ä—Ç—ã
sudo netstat -tulpn | grep -E ":9100|:9101|:9102|:1010"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏
# –° –≤–∞—à–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞:
curl http://172.16.16.117:9100
curl http://172.16.16.117:1010
```

---

## üö® –ï—Å–ª–∏ –∞–¥–º–∏–Ω–∫–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –ü–æ—Ä—Ç—ã –Ω–µ –æ—Ç–∫—Ä—ã—Ç—ã –≤ firewall

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å firewall
sudo ufw status

# –û—Ç–∫—Ä—ã—Ç—å –ø–æ—Ä—Ç—ã (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
sudo ufw allow from 172.16.16.0/24 to any port 9100
sudo ufw allow from 172.16.16.0/24 to any port 9101
sudo ufw allow from 172.16.16.0/24 to any port 9102
sudo ufw allow from 172.16.16.0/24 to any port 1010
```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: Docker –Ω–µ –ø—Ä–∏–≤—è–∑–∞–ª –ø–æ—Ä—Ç—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ Docker —Å–ª—É—à–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö
sudo docker ps --format "table {{.Names}}\t{{.Ports}}"

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
# 0.0.0.0:9100->9000/tcp  (–Ω–µ 127.0.0.1!)
```

–ï—Å–ª–∏ –ø–æ—Ä—Ç—ã –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ `127.0.0.1`, –∏–∑–º–µ–Ω–∏—Ç–µ –≤ compose —Ñ–∞–π–ª–∞—Ö:

```yaml
# –ë—ã–ª–æ:
ports:
  - "127.0.0.1:9100:9000"

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
ports:
  - "9100:9000"  # –°–ª—É—à–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö
```

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –Ω–µ –∑–∞–ø—É—Å—Ç–∏–ª–∏—Å—å

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
sudo bash tools/ctl.sh status

# –ï—Å–ª–∏ –Ω–µ—Ç monitoring —Å–µ—Ä–≤–∏—Å–æ–≤:
sudo bash tools/ctl.sh monitoring

# –õ–æ–≥–∏
sudo docker logs portainer
sudo docker logs netdata
```

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∞–¥–º–∏–Ω–∫–∏

### –î–ª—è –Ω–∞—á–∞–ª–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:

**1. Portainer** (9100) - —Å–∞–º–∞—è —É–¥–æ–±–Ω–∞—è
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏
- –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤
- –ö–æ–Ω—Å–æ–ª—å –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã

**2. Dozzle** (9102) - –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
- –í—Å–µ –ª–æ–≥–∏ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º
- –ü–æ–∏—Å–∫ –ø–æ –ª–æ–≥–∞–º

**3. Traefik Dashboard** (1010) - –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ —Ä–æ—É—Ç–∏–Ω–≥–∞
- –ö–∞–∫–∏–µ API –∞–∫—Ç–∏–≤–Ω—ã
- HTTP –º–µ—Ç—Ä–∏–∫–∏
- –ú–∞—Ä—à—Ä—É—Ç—ã —Ç—Ä–∞—Ñ–∏–∫–∞

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –î–ª—è production:

**1. –ò–∑–º–µ–Ω–∏—Ç–µ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –ø–∞—Ä–æ–ª–∏:**
```bash
# .env
TRAEFIK_DASHBOARD_USER=–≤–∞—à_–ª–æ–≥–∏–Ω
TRAEFIK_DASHBOARD_PASS=–±–µ–∑–æ–ø–∞—Å–Ω—ã–π_–ø–∞—Ä–æ–ª—å
```

**2. –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –ø–æ IP:**
```yaml
# HOST_API_SERVICE_MONITORING.yml
services:
  portainer:
    ports:
      - "172.16.16.117:9100:9000"  # –¢–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–∞—è —Å–µ—Ç—å
```

**3. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ VPN:**
- –î–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ WireGuard VPN
- –ü–æ—Ä—Ç—ã –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è –Ω–∞—Ä—É–∂—É

---

## üìä –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –∞–¥–º–∏–Ω–æ–∫

```bash
# –° –≤–∞—à–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ (–≤ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏)
curl -I http://172.16.16.117:1010   # Traefik
curl -I http://172.16.16.117:9100   # Portainer
curl -I http://172.16.16.117:9101   # Netdata
curl -I http://172.16.16.117:9102   # Dozzle
curl -I http://172.16.16.117:9107   # Swagger

# –í—Å–µ –¥–æ–ª–∂–Ω—ã –æ—Ç–≤–µ—Ç–∏—Ç—å HTTP 200 –∏–ª–∏ 401 (—Ç—Ä–µ–±—É—é—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é)
```

---

## ‚úÖ –ü–æ—à–∞–≥–æ–≤—ã–π –¥–æ—Å—Ç—É–ø –∫ Portainer (–ø—Ä–∏–º–µ—Ä)

```bash
# 1. –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å monitoring
cd /mnt/docker/tzr_host_api/wg_client
sudo bash tools/ctl.sh monitoring

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ Portainer –∑–∞–ø—É—Å—Ç–∏–ª—Å—è
sudo docker ps | grep portainer

# 3. –° –≤–∞—à–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ –æ—Ç–∫—Ä—ã—Ç—å
# –ë—Ä–∞—É–∑–µ—Ä ‚Üí http://172.16.16.117:9100

# 4. –ü–µ—Ä–≤—ã–π —Ä–∞–∑: —Å–æ–∑–¥–∞—Ç—å admin –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
# Username: admin
# Password: (–º–∏–Ω–∏–º—É–º 12 —Å–∏–º–≤–æ–ª–æ–≤)

# 5. –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –ª–æ–∫–∞–ª—å–Ω–æ–º—É Docker
# Environment ‚Üí Local ‚Üí Connect

# 6. –¢–µ–ø–µ—Ä—å –≤–∏–¥–∏—Ç–µ –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã!
```

---

## üéØ –ò—Ç–æ–≥–æ

**–î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–¥–º–∏–Ω–∫–∞–º —Å –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏:**

```
http://172.16.16.117:9100  - Portainer ‚≠ê (–≥–ª–∞–≤–Ω–∞—è)
http://172.16.16.117:9102  - Dozzle (–ª–æ–≥–∏)
http://172.16.16.117:1010  - Traefik (—Ä–æ—É—Ç–∏–Ω–≥)
```

**–ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç** - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ firewall –∏ Docker –ø–æ—Ä—Ç—ã!

