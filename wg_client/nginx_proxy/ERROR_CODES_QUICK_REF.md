# ‚ö° API –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ - –ö—Ä–∞—Ç–∫–∏–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫

## üì• –ó–∞–ø—Ä–æ—Å

```http
POST /api/register
Content-Type: application/json
X-API-Key: dev_api_key_12345

{
  "login": "string (3-16 chars)",
  "password": "string (6-20 chars)",
  "gender": 0 | 1,
  "telegram_id": integer,
  "username": "string (optional)"
}
```

## ‚úÖ –£—Å–ø–µ—Ö (200)

```json
{
  "ok": true,
  "message": "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞!",
  "request_id": "..."
}
```

## ‚ùå –û—à–∏–±–∫–∏

| –ö–æ–¥ | detail | –ü—Ä–∏—á–∏–Ω–∞ | –†–µ—à–µ–Ω–∏–µ |
|-----|--------|---------|---------|
| **400** | `Bad Request` | –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π JSON | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ JSON |
| **400** | `bad_request` | –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–ª—è |
| **403** | `invalid_api_key` | –ù–µ–≤–µ—Ä–Ω—ã–π/–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç API –∫–ª—é—á | –ü–µ—Ä–µ–¥–∞–π—Ç–µ `X-API-Key` |
| **403** | `limit_exceeded` | –£–∂–µ 5 –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –Ω–∞ —ç—Ç–æ—Ç Telegram ID | –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥—Ä—É–≥–æ–π Telegram |
| **403** | `not_in_telegram_group` | –ù–µ —Å–æ—Å—Ç–æ–∏—Ç–µ –≤ –≥—Ä—É–ø–ø–µ | –í—Å—Ç—É–ø–∏—Ç–µ –≤ –≥—Ä—É–ø–ø—É |
| **409** | `login_taken` | –õ–æ–≥–∏–Ω –∑–∞–Ω—è—Ç | –í—ã–±–µ—Ä–∏—Ç–µ –¥—Ä—É–≥–æ–π –ª–æ–≥–∏–Ω |
| **422** | `Validation Error` | –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –ø–æ–ª—è | –°–º. –¥–µ—Ç–∞–ª–∏ –≤ `detail[]` |
| **429** | `Too Many Requests` | > 10 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω | –ü–æ–¥–æ–∂–¥–∏—Ç–µ –º–∏–Ω—É—Ç—É |
| **500** | `internal_error` | –û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ | –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω—É |
| **502** | `game_server error...` | Game server –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω | –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω—É |
| **503** | `service unavailable` | –°–µ—Ä–≤–∏—Å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω | –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ |

## üìã –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª–µ–π

| –ü–æ–ª–µ | –ü—Ä–∞–≤–∏–ª–æ |
|------|---------|
| `login` | 3-16 —Å–∏–º–≤–æ–ª–æ–≤, —É–Ω–∏–∫–∞–ª—å–Ω—ã–π |
| `password` | 6-20 —Å–∏–º–≤–æ–ª–æ–≤ |
| `gender` | –¢–æ–ª—å–∫–æ `0` (–ú) –∏–ª–∏ `1` (–ñ) |
| `telegram_id` | –¶–µ–ª–æ–µ —á–∏—Å–ª–æ, –º–∞–∫—Å 5 –∞–∫–∫–∞—É–Ω—Ç–æ–≤ |
| `username` | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ª—é–±–∞—è —Å—Ç—Ä–æ–∫–∞ |

## üîë –õ–∏–º–∏—Ç—ã

- **Rate limit:** 10 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç—É —Å IP
- **–ê–∫–∫–∞—É–Ω—Ç—ã:** –ú–∞–∫—Å–∏–º—É–º 5 –Ω–∞ Telegram ID
- **Telegram –≥—Ä—É–ø–ø–∞:** –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ)

## üß™ –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç

```bash
curl -X POST http://localhost:8090/api/register \
  -H "Content-Type: application/json" \
  -H "X-API-Key: dev_api_key_12345" \
  -d '{
    "login": "Test1",
    "password": "pass123",
    "gender": 0,
    "telegram_id": 123456789
  }'
```

## üìö –ü–æ–¥—Ä–æ–±–Ω–µ–µ

- [–ü–æ–ª–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è](REGISTRATION_API_SPEC.md)
- [–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∞–π—Ç–æ–º](API_FOR_WEBSITE.md)
- [–í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã](ENDPOINTS.md)
