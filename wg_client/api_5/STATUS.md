# API 5 - Shop Parser: –°—Ç–∞—Ç—É—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

**–î–∞—Ç–∞:** 2025-10-11  
**–ü—Ä–æ–≥—Ä–µ—Å—Å:** 20 / 56 –∑–∞–¥–∞—á (36%)

---

## ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ (20 –∑–∞–¥–∞—á)

### üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [x] –°–æ–∑–¥–∞–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ API 5 —Å —É—á—ë—Ç–æ–º –±–æ—Ç–æ–≤-–ø–∞—Ä—Å–µ—Ä–æ–≤ –≤ –º–∞–≥–∞–∑–∏–Ω–∞—Ö
- [x] –°–æ–∑–¥–∞–Ω–∞ –±–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ `wg_client/api_5/`

### üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –±–æ—Ç—ã
- [x] –†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏–Ω–∞ –±–æ—Ç–æ–≤ –≤ –∏–≥—Ä—É (—Å–µ—Å—Å–∏–∏)
- [x] –°–æ–∑–¥–∞–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è 3 –±–æ—Ç–æ–≤ (Sova Moscow/Oasis/Neva)
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω `GameSocketClient` —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Å–µ—Å—Å–∏–π
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω `BotSessionManager` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Å—Å–∏—è–º–∏

### üì° –ü—Ä–æ—Ç–æ–∫–æ–ª –∏ –ø–∞—Ä—Å–∏–Ω–≥
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–∞—Ä—Å–∏–Ω–≥ –∑–∞–ø—Ä–æ—Å–∞ `<SH />` (–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –º–∞–≥–∞–∑–∏–Ω–∞)
- [x] –°–æ–∑–¥–∞–Ω `ShopParser` –¥–ª—è —Ä–∞–∑–±–æ—Ä–∞ XML –æ—Ç–≤–µ—Ç–æ–≤ `<O />`
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–∞—Ä—Å–∏–Ω–≥ –ø–æ–ª—è `damage` (S2-6, E3-7)
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–∞—Ä—Å–∏–Ω–≥ –ø–æ–ª—è `protect` (S7-16, O1-5)
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–∞—Ä—Å–∏–Ω–≥ –ø–æ–ª—è `shot` (—Ä–µ–∂–∏–º—ã –∞—Ç–∞–∫)
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–∞—Ä—Å–∏–Ω–≥ –ø–æ–ª—è `min` (—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–∞—Ä—Å–∏–Ω–≥ –ø–æ–ª—è `st` (—Å–ª–æ—Ç—ã)
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è `piercing` (500 -> 5.0%)
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è `put_day` (Unix -> Timestamp)

### üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- [x] –°–æ–∑–¥–∞–Ω—ã –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è —Ç–∞–±–ª–∏—Ü (shops, items, snapshots)
- [x] –ù–∞–ø–æ–ª–Ω–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ `shops` (moscow, oasis, neva)

### üê≥ Docker –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- [x] –°–æ–∑–¥–∞–Ω `Dockerfile` –¥–ª—è API 5
- [x] –°–æ–∑–¥–∞–Ω `requirements.txt` —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
- [x] –°–æ–∑–¥–∞–Ω `HOST_API_SERVICE_SHOP_API.yml`
- [x] –î–æ–±–∞–≤–ª–µ–Ω `api_5_db` (PostgreSQL 15)
- [x] –î–æ–±–∞–≤–ª–µ–Ω `api_5_migrator` (Flyway)

---

## üöß –í –ø—Ä–æ—Ü–µ—Å—Å–µ (36 –∑–∞–¥–∞—á)

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ (—Å–ª–µ–¥—É—é—â–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

#### üîÑ –ü–∞—Ä—Å–∏–Ω–≥ –∏ –ª–æ–≥–∏–∫–∞
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –ø–µ—Ä–µ–±–æ—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü –¥–æ –ø–æ–≤—Ç–æ—Ä–∞
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–∞—Å–∫—Ä—ã—Ç–∏–µ –≥—Ä—É–ø–ø —Ç–æ–≤–∞—Ä–æ–≤ (count=N)

#### üìä –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- [ ] –°–æ–∑–¥–∞—Ç—å SQLAlchemy –º–æ–¥–µ–ª–∏ –¥–ª—è –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å ShopRepository (CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏)

#### üéØ Use Cases
- [ ] –°–æ–∑–¥–∞—Ç—å ParseCategoryUseCase (–ø–∞—Ä—Å–∏–Ω–≥ –æ–¥–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏)
- [ ] –°–æ–∑–¥–∞—Ç—å CreateSnapshotUseCase (–ø–æ–ª–Ω—ã–π —Å–Ω–∏–º–æ–∫ –º–∞–≥–∞–∑–∏–Ω–∞)
- [ ] –°–æ–∑–¥–∞—Ç—å CalculateDiffUseCase (—Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å–Ω–∏–º–∫–æ–≤)

#### üåê FastAPI
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å dependency injection (DI Container)
- [ ] –°–æ–∑–¥–∞—Ç—å main.py —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º FastAPI
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å /healthz, /shop/health, /db/health

### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç

#### üîó –†–æ—É—Ç—ã
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å /items/list (—Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π)
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å /items/search (–ø–æ–∏—Å–∫ –ø–æ —Ñ–∏–ª—å—Ç—Ä–∞–º)
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å /items/{id} (–¥–µ—Ç–∞–ª–∏ —Ç–æ–≤–∞—Ä–∞)
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å /snapshots/list (—Å–ø–∏—Å–æ–∫ —Å–Ω–∏–º–∫–æ–≤)
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å /snapshots/{id}/diff (—Å—Ä–∞–≤–Ω–µ–Ω–∏–µ)
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å /admin/snapshot/trigger (—Ä—É—á–Ω–æ–π —Å–Ω–∏–º–æ–∫)

#### üåê –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ä–æ—É—Ç–∏–Ω–≥ –≤ Traefik: /api/shop -> api_5:8085
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã –≤ tools/ctl.sh (api5-up, api5-logs)

#### ‚è±Ô∏è –í–æ—Ä–∫–µ—Ä—ã –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫
- [ ] –°–æ–∑–¥–∞—Ç—å ShopScheduler –¥–ª—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏—Ö —Å–Ω–∏–º–∫–æ–≤
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å 3 shop_worker (–ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å XML Workers)
- [ ] –°–æ–∑–¥–∞—Ç—å shop_workers.yml –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–æ—Ä–∫–µ—Ä–∞–º–∏

### –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–ø–æ—Å–ª–µ MVP)

#### üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –≤–∏—Ç—Ä–∏–Ω—ã
- [ ] –°–æ–∑–¥–∞—Ç—å marts/price_statistics.sql
- [ ] –°–æ–∑–¥–∞—Ç—å marts/market_velocity.sql
- [ ] –°–æ–∑–¥–∞—Ç—å marts/quality_distribution.sql
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å /analytics/prices/distribution
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å /analytics/prices/anomalies (z-score)

#### üß™ –¢–µ—Å—Ç—ã
- [ ] –ù–∞–ø–∏—Å–∞—Ç—å unit-—Ç–µ—Å—Ç—ã –¥–ª—è –ø–∞—Ä—Å–µ—Ä–æ–≤
- [ ] –ù–∞–ø–∏—Å–∞—Ç—å unit-—Ç–µ—Å—Ç—ã –¥–ª—è use cases
- [ ] –ù–∞–ø–∏—Å–∞—Ç—å integration-—Ç–µ—Å—Ç—ã –¥–ª—è API

#### üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [ ] –°–æ–∑–¥–∞—Ç—å API5_IMPLEMENTATION_GUIDE.md
- [ ] –°–æ–∑–¥–∞—Ç—å Swagger/OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é

#### üöÄ –î–µ–ø–ª–æ–π –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- [ ] –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—É—Å–∫ API 5 –≤ dev –æ–∫—Ä—É–∂–µ–Ω–∏–∏
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –≤—Å–µ—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
- [ ] –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è Prometheus
- [ ] –°–≤—è–∑–∞—Ç—å API 5 —Å –æ—Å–Ω–æ–≤–Ω—ã–º MAIN.md –ø—Ä–æ–µ–∫—Ç–∞

---

## üìÇ –°–æ–∑–¥–∞–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
wg_client/api_5/
‚îú‚îÄ‚îÄ README.md                           ‚úÖ –û—Å–Ω–æ–≤–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
‚îú‚îÄ‚îÄ STATUS.md                           ‚úÖ –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ Dockerfile                          ‚úÖ Docker –æ–±—Ä–∞–∑
‚îú‚îÄ‚îÄ requirements.txt                    ‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py                     ‚úÖ
‚îÇ   ‚îú‚îÄ‚îÄ config.py                       ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–±–æ—Ç—ã, –ë–î)
‚îÇ   ‚îú‚îÄ‚îÄ domain/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py                 ‚úÖ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ entities.py                 ‚úÖ –î–æ–º–µ–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ infrastructure/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py                 ‚úÖ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ game_socket_client.py       ‚úÖ –ö–ª–∏–µ–Ω—Ç + —Å–µ—Å—Å–∏–∏ –±–æ—Ç–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ parsers/
‚îÇ       ‚îú‚îÄ‚îÄ __init__.py                 ‚úÖ
‚îÇ       ‚îî‚îÄ‚îÄ shop_parser.py              ‚úÖ –ü–∞—Ä—Å–µ—Ä XML –º–∞–≥–∞–∑–∏–Ω–∞
‚îú‚îÄ‚îÄ migrations/
‚îÇ   ‚îî‚îÄ‚îÄ V1__init_schema.sql             ‚úÖ –°—Ö–µ–º–∞ –ë–î
‚îî‚îÄ‚îÄ (–ø–æ–∫–∞ –Ω–µ —Å–æ–∑–¥–∞–Ω—ã)
    ‚îú‚îÄ‚îÄ app/
    ‚îÇ   ‚îú‚îÄ‚îÄ infrastructure/db/           ‚è≥ SQLAlchemy –º–æ–¥–µ–ª–∏
    ‚îÇ   ‚îú‚îÄ‚îÄ usecases/                    ‚è≥ –°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
    ‚îÇ   ‚îú‚îÄ‚îÄ interfaces/http/             ‚è≥ FastAPI —Ä–æ—É—Ç—ã
    ‚îÇ   ‚îî‚îÄ‚îÄ main.py                      ‚è≥ –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
    ‚îú‚îÄ‚îÄ shop_workers/                    ‚è≥ –í–æ—Ä–∫–µ—Ä—ã –¥–ª—è –≥–æ—Ä–æ–¥–æ–≤
    ‚îî‚îÄ‚îÄ marts/                           ‚è≥ SQL –≤–∏—Ç—Ä–∏–Ω—ã

HOST_API_SERVICE_SHOP_API.yml          ‚úÖ Docker Compose
```

---

## üéØ MVP (–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç)

### –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –±–∞–∑–æ–≤–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞:

1. **SQLAlchemy –º–æ–¥–µ–ª–∏** (shop-12)
2. **ShopRepository** (shop-13)
3. **ParseCategoryUseCase** (shop-14)
4. **DI Container** (shop-24)
5. **FastAPI main.py** (shop-25)
6. **Health endpoints** (shop-26)
7. **–ü–∞–≥–∏–Ω–∞—Ü–∏—è** (shop-8)
8. **–†–∞—Å–∫—Ä—ã—Ç–∏–µ –≥—Ä—É–ø–ø** (shop-9)

**–û—Ü–µ–Ω–∫–∞:** ~8 –∑–∞–¥–∞—á –¥–ª—è MVP (~14% –æ—Å—Ç–∞—Ç–∫–∞)

### –ü–æ—Å–ª–µ MVP –º–æ–∂–Ω–æ:
- –ó–∞–ø—É—Å—Ç–∏—Ç—å API –ª–æ–∫–∞–ª—å–Ω–æ
- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä—Å–∏–Ω–≥ –æ–¥–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î
- –°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤—ã–π —Å–Ω–∏–º–æ–∫ –º–∞–≥–∞–∑–∏–Ω–∞

---

## üî• –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —É–∂–µ –≥–æ—Ç–æ–≤—ã!

### ‚úÖ `GameSocketClient` (app/infrastructure/game_socket_client.py)
```python
# –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –±–æ—Ç–∞
client = GameSocketClient("game_server", 9000)
success, session_id = client.authenticate("Sova", "password")

# –ó–∞–ø—Ä–æ—Å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –º–∞–≥–∞–∑–∏–Ω–∞
xml_response = client.fetch_shop_category(category="k", page=0)

# Keep-alive –ø–∏–Ω–≥–∏
alive = client.ping()
```

### ‚úÖ `BotSessionManager` (app/infrastructure/game_socket_client.py)
```python
# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ 3 –±–æ—Ç–∞–º–∏
manager = BotSessionManager("game_server", 9000)

# –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –≤—Å–µ—Ö –±–æ—Ç–æ–≤
for shop, bot_config in bots.items():
    manager.authenticate_bot(shop, bot_config.login, bot_config.password)

# –ü–∏–Ω–≥–∏ –≤—Å–µ–º –±–æ—Ç–∞–º
status = manager.ping_all()  # {'moscow': True, 'oasis': True, 'neva': False}
```

### ‚úÖ `ShopParser` (app/parsers/shop_parser.py)
```python
# –ü–∞—Ä—Å–∏–Ω–≥ XML –æ—Ç–≤–µ—Ç–∞
result = ShopParser.parse_response(xml_str, shop_code="moscow")

# –î–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º
for item in result.items:
    print(f"{item.txt}: {item.price} cr, quality {item.current_quality}/{item.max_quality}")
    print(f"  Damage: {item.damage}")  # [DamageComponent(type="S", min=2, max=6)]
    print(f"  Requirements: {item.requirements}")  # Requirements(level=6, strength=14)
```

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ (–¥–ª—è MVP):
1. –°–æ–∑–¥–∞—Ç—å SQLAlchemy –º–æ–¥–µ–ª–∏
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å ShopRepository
3. –°–æ–∑–¥–∞—Ç—å ParseCategoryUseCase —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π –∏ —Ä–∞—Å–∫—Ä—ã—Ç–∏–µ–º –≥—Ä—É–ø–ø
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å DI Container
5. –°–æ–∑–¥–∞—Ç—å FastAPI main.py —Å health endpoints

### –ü–æ—Å–ª–µ MVP:
6. –°–æ–∑–¥–∞—Ç—å CreateSnapshotUseCase
7. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–æ—É—Ç—ã –¥–ª—è items –∏ snapshots
8. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ Traefik
9. –ó–∞–ø—É—Å—Ç–∏—Ç—å 3 –≤–æ—Ä–∫–µ—Ä–∞
10. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ —Å–Ω–∏–º–∫–æ–≤

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

### –í–∞–∂–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:

1. **–ë–æ—Ç—ã –î–û–õ–ñ–ù–´ –±—ã—Ç—å –≤ –º–∞–≥–∞–∑–∏–Ω–∞—Ö** ‚Äî –∫–∞–∂–¥—ã–π –±–æ—Ç –∑–∞–ª–æ–≥–∏–Ω–µ–Ω –∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å–≤–æ—ë–º –≥–æ—Ä–æ–¥–µ
2. **–°–µ—Å—Å–∏–æ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** ‚Äî —Ö—Ä–∞–Ω–∏–º `session_id`, –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º keep-alive –ø–∏–Ω–≥–∏
3. **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –≤–æ—Ä–∫–µ—Ä—ã** ‚Äî 3 –≤–æ—Ä–∫–µ—Ä–∞ —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ (–∫–∞–∫ XML Workers)
4. **–ü—Ä–æ—Å—Ç–æ–π –ø—Ä–æ—Ç–æ–∫–æ–ª** ‚Äî –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å `xml_client.py` (connect ‚Üí sendall ‚Üí recv)
5. **PostgreSQL** ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ–º JSONB –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è damage/protect/requirements

### –û—Ç–ª–∏—á–∏—è –æ—Ç XML Workers:

| XML Workers | Shop Workers |
|-------------|-------------|
| 6 –≤–æ—Ä–∫–µ—Ä–æ–≤ | 3 –≤–æ—Ä–∫–µ—Ä–∞ |
| –ß–∏—Ç–∞—é—Ç —Ñ–∞–π–ª—ã –∏–∑ –ë–î | –ó–∞–ø—Ä–∞—à–∏–≤–∞—é—Ç –º–∞–≥–∞–∑–∏–Ω –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ |
| –ë–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ | –° –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π (—Å–µ—Å—Å–∏–∏) |
| –ù–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –±–∞—Ç—á–∏ | –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–Ω–∏–º–∫–∏ |

---

**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ MVP:** ~70%  
**–û—Å—Ç–∞–ª–æ—Å—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á:** 8  
**–û—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–æ—á–Ω–æ–µ –≤—Ä–µ–º—è:** 1-2 –¥–Ω—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

**–ê–≤—Ç–æ—Ä:** AI Assistant  
**–í–µ—Ä—Å–∏—è:** 1.0


