# ‚úÖ API 5 - –ì–û–¢–û–í–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ!

**–î–∞—Ç–∞:** 2025-10-11  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–í–°–Å –ì–û–¢–û–í–û!**

---

## üéâ –í–°–Å –í–´–ü–û–õ–ù–ï–ù–û

### ‚úÖ 1. Swagger UI —Ä–∞–±–æ—Ç–∞–µ—Ç (CORS –∏—Å–ø—Ä–∞–≤–ª–µ–Ω)
### ‚úÖ 2. API 5 –¥–æ–±–∞–≤–ª–µ–Ω –≤ –æ–±—â–∏–π Swagger
### ‚úÖ 3. –î–æ–±–∞–≤–ª–µ–Ω–æ 5 –Ω–æ–≤—ã—Ö endpoints
### ‚úÖ 4. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã

---

## üöÄ –ö–ê–ö –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨

### –®–∞–≥ 1: –û—Ç–∫—Ä—ã—Ç—å Swagger UI

```bash
open http://localhost:9107
```

### –®–∞–≥ 2: –í—ã–±—Ä–∞—Ç—å API 5

**–í –≤—ã–ø–∞–¥–∞—é—â–µ–º —Å–ø–∏—Å–∫–µ —Å–≤–µ—Ä—Ö—É –≤—ã–±—Ä–∞—Ç—å:**

```
API 5 - Shop Parser
```

### –®–∞–≥ 3: –£–≤–∏–¥–µ—Ç—å endpoints

**–ü–æ—è–≤—è—Ç—Å—è 6 –∫–∞—Ç–µ–≥–æ—Ä–∏–π:**

```
üè• Health & Service (3)
üì¶ Items (2)
üóÇÔ∏è Categories (2)      ‚Üê –ù–û–í–û–ï!
üë§ Sellers (3)          ‚Üê –ù–û–í–û–ï!
üì∏ Snapshots (2)
üëë Admin (2)
```

---

## üéØ –ù–û–í–´–ï ENDPOINTS

### 1Ô∏è‚É£ GET /categories/list

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:** –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö 27 –∫–∞—Ç–µ–≥–æ—Ä–∏–π

**Swagger UI:**
1. –û—Ç–∫—Ä—ã—Ç—å "Categories"
2. –ù–∞–∂–∞—Ç—å –Ω–∞ "GET /categories/list"
3. –ù–∞–∂–∞—Ç—å "Try it out"
4. –ù–∞–∂–∞—Ç—å "Execute"

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "categories": [
    {"code": "k", "name": "–•–æ–ª–æ–¥–Ω–æ–µ –æ—Ä—É–∂–∏–µ"},
    {"code": "p", "name": "–ü–∏—Å—Ç–æ–ª–µ—Ç—ã"},
    {"code": "s", "name": "–†–µ—Å—É—Ä—Å—ã"},
    ...
  ],
  "total": 27
}
```

---

### 2Ô∏è‚É£ GET /categories/{code}/items

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:** –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–≤–∞—Ä—ã –∏–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

**Swagger UI:**
1. –û—Ç–∫—Ä—ã—Ç—å "Categories"
2. –ù–∞–∂–∞—Ç—å –Ω–∞ "GET /categories/{code}/items"
3. –ù–∞–∂–∞—Ç—å "Try it out"
4. –í–≤–µ—Å—Ç–∏:
   - `category_code`: **s** (—Ä–µ—Å—É—Ä—Å—ã)
   - `shop_code`: **moscow**
   - `limit`: **50**
5. –ù–∞–∂–∞—Ç—å "Execute"

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "category": "s",
  "shop_code": "moscow",
  "items": [
    {"txt": "–ñ–µ–ª–µ–∑–Ω–∞—è —Ä—É–¥–∞", "price": 8.0, "owner": "MinerPro"},
    {"txt": "–ú–µ–¥—å", "price": 10.0, "owner": "ResourceKing"},
    ...
  ],
  "total": 50
}
```

---

### 3Ô∏è‚É£ GET /sellers/search

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:** –ù–∞–π—Ç–∏ —Ç–æ–≤–∞—Ä—ã –ø—Ä–æ–¥–∞–≤—Ü–∞ –ø–æ –Ω–∏–∫—É

**Swagger UI:**
1. –û—Ç–∫—Ä—ã—Ç—å "Sellers"
2. –ù–∞–∂–∞—Ç—å –Ω–∞ "GET /sellers/search"
3. –ù–∞–∂–∞—Ç—å "Try it out"
4. –í–≤–µ—Å—Ç–∏:
   - `owner`: **PlayerX** (–Ω–∏–∫ –ø—Ä–æ–¥–∞–≤—Ü–∞)
   - `shop_code`: **moscow** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - `limit`: **100**
5. –ù–∞–∂–∞—Ç—å "Execute"

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "owner": "PlayerX",
  "items": [
    {"txt": "Glock 17", "price": 25.0},
    {"txt": "Combat helmet", "price": 45.0},
    ...
  ],
  "total": 15
}
```

---

### 4Ô∏è‚É£ GET /sellers/stats

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:** –¢–û–ü –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ (–Ω–∏–∫ + –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ + —Å—Ç–æ–∏–º–æ—Å—Ç—å)

**Swagger UI:**
1. –û—Ç–∫—Ä—ã—Ç—å "Sellers"
2. –ù–∞–∂–∞—Ç—å –Ω–∞ "GET /sellers/stats"
3. –ù–∞–∂–∞—Ç—å "Try it out"
4. –í–≤–µ—Å—Ç–∏:
   - `shop_code`: **moscow** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - `min_items`: **5** (–º–∏–Ω–∏–º—É–º —Ç–æ–≤–∞—Ä–æ–≤)
   - `limit`: **20** (–¢–û–ü-20)
5. –ù–∞–∂–∞—Ç—å "Execute"

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
[
  {
    "owner": "MegaSeller",
    "items_count": 142,
    "total_value": 15820.50,  ‚Üê –û–ë–©–ê–Ø –°–¢–û–ò–ú–û–°–¢–¨!
    "min_price": 2.0,
    "max_price": 5000.0,
    "avg_price": 111.41
  },
  {
    "owner": "WeaponShop",
    "items_count": 89,
    "total_value": 8450.00,
    "avg_price": 94.94
  },
  ...
]
```

---

### 5Ô∏è‚É£ GET /sellers/{owner}/summary

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:** –î–µ—Ç–∞–ª—å–Ω–∞—è —Å–≤–æ–¥–∫–∞ –ø—Ä–æ–¥–∞–≤—Ü–∞

**Swagger UI:**
1. –û—Ç–∫—Ä—ã—Ç—å "Sellers"
2. –ù–∞–∂–∞—Ç—å –Ω–∞ "GET /sellers/{owner}/summary"
3. –ù–∞–∂–∞—Ç—å "Try it out"
4. –í–≤–µ—Å—Ç–∏:
   - `owner`: **WeaponShop**
   - `shop_code`: **moscow** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
5. –ù–∞–∂–∞—Ç—å "Execute"

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "owner": "WeaponShop",
  "total_items": 89,
  "total_value": 8450.00,
  "avg_price": 94.94,
  "by_category": [
    {"category": "p", "count": 45},  // –ü–∏—Å—Ç–æ–ª–µ—Ç—ã
    {"category": "v", "count": 28},  // –í–∏–Ω—Ç–æ–≤–∫–∏
    {"category": "k", "count": 16}   // –•–æ–ª–æ–¥–Ω–æ–µ
  ]
}
```

**–í—ã–≤–æ–¥:** WeaponShop —Ç–æ—Ä–≥—É–µ—Ç –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –ø–∏—Å—Ç–æ–ª–µ—Ç–∞–º–∏ (45 —à—Ç)!

---

## üìù –ü–†–ò–ú–ï–†–´ –°–¶–ï–ù–ê–†–ò–ï–í

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ù–∞–π—Ç–∏ –≤—Å–µ —Ä–µ—Å—É—Ä—Å—ã –≤ Moscow

```
1. Swagger UI ‚Üí API 5
2. Categories ‚Üí GET /categories/{code}/items
3. Try it out
4. category_code = "s"
   shop_code = "moscow"
   limit = 200
5. Execute
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** 192 —Ä–µ—Å—É—Ä—Å–∞ (–ñ–µ–ª–µ–∑–æ, –ú–µ–¥—å, –ö—Ä–∏—Å—Ç–∞–ª–ª—ã, ...)

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ù–∞–π—Ç–∏ —Ç–æ–≤–∞—Ä—ã –ø—Ä–æ–¥–∞–≤—Ü–∞ "PlayerX"

```
1. Swagger UI ‚Üí API 5
2. Sellers ‚Üí GET /sellers/search
3. Try it out
4. owner = "PlayerX"
   shop_code = "moscow"
5. Execute
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í—Å–µ 15 —Ç–æ–≤–∞—Ä–æ–≤ PlayerX

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –¢–û–ü-10 –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ Moscow

```
1. Swagger UI ‚Üí API 5
2. Sellers ‚Üí GET /sellers/stats
3. Try it out
4. shop_code = "moscow"
   min_items = 5
   limit = 10
5. Execute
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –¢–û–ü-10 —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∏ —Å—Ç–æ–∏–º–æ—Å—Ç—å—é

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 4: –î–µ—Ç–∞–ª—å–Ω–∞—è —Å–≤–æ–¥–∫–∞ –ø—Ä–æ–¥–∞–≤—Ü–∞

```
1. Swagger UI ‚Üí API 5
2. Sellers ‚Üí GET /sellers/{owner}/summary
3. Try it out
4. owner = "WeaponShop"
5. Execute
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–ª–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ WeaponShop

---

## ‚úÖ –ì–û–¢–û–í–û!

**Swagger UI:** http://localhost:9107 ‚úÖ  
**API 5:** –î–æ—Å—Ç—É–ø–µ–Ω –≤ —Å–ø–∏—Å–∫–µ ‚úÖ  
**15 endpoints:** –†–∞–±–æ—Ç–∞—é—Ç ‚úÖ  
**CORS:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω ‚úÖ

---

**–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å!** üöÄ







